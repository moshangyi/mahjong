# Mahjong

This is a digital Mahjong game based on **International Mahjong Rules**.

## 🎴 Features

- ✅ International Mahjong Rules — Play by standard international rules.
- ✅ Flexible Multiplayer — Play with 1, 2, 3, or 4 players.
- ✅ Local Wi-Fi Play — Play on the same local network: personal hotspot, Starbucks Wi-Fi, airport Wi-Fi, etc.
- ✅ Online Play — Play over the Internet by configuring port forwarding on your home router.
- ✅ Beginner-friendly — Turn on robot players to watch and learn how to play International Mahjong.
- ✅ Game Language — English and Chinese depending on your device settings or App language settings on Apple devices.


## 🕹️ How to Start a Game

1. Host the Server
   - One player must start the server by tapping the "SVR" button to host the game (even for solo play).
   - Then tap the "Join" button to join as a player.
2. Get IP & Port
   - After the server starts, an IP address and port number will appear in the message area, e.g., `192.168.1.8:53842`.
3. Other Players Join
   - Up to 3 other players enter the host's IP and port in their message area and tap Join button to connect.
4. For Solo Play
   - Tap the other 3 seat labels marked "A" (available). They will change to "O" (occupied).
5. Seat Assignment
   - When all seats are occupied, each seat will be assigned one of the four winds: East(E), South(S), West(W), or North(N).
6. Start the Game
   - Whoever taps the Shuffle button first will become the dealer.
   - Tap the Dice button to roll the dice.
   - Tap the head tile on the wall to break it.
7. Flowers
   - If you have flower tiles, claim them by tapping the tile, then tap the "Tail" button to get a replacement tile.
   - If you have no flowers, next player will get his/her turn automatically.
8. Play
   - The dealer discards a tile (the first dicarded tile) by tapping it.
   - The next player draws a tile by tapping "Head", then discards one.
9. Pung
   - When you have a PUNG or KONG your massage area will turn to purple color and the center tile will flashing, you can stop others by tap center tile.
   - To do so you will reveal that you have 2 or 3 the same tiles. If you don't need the PUNG/KONG, do nothing (hide information).
   - Then in the popup window, you will make a dicision if you really want PUNG/KONG.
   - If the answer is NO other players would been released.
   - If the answer is YES you will be ask if you want PUNG or KONG if you have 3 same tiles as the one discarded by others.
   - After you tap YES the center tile (discarded by others) will move to your CHOW/PUNG/KONG display area.
   - Then you need to tap the same tiles in your hand to form PUNG or KONG.
   - If you formed a KONG you need to tap the tail button to get a replacement.
   - Then you discard a tile in your hand by tap it.
   - ⚠️If current player discards a tile before you tap the center tile, you will lose the PUNG oppertunity.
10. Chow
    - To form a CHOW you can tap the center tile discarded by your left hand player.
    - The center tile will move to your CHOW/PUNG/KONG display area.
    - Then you need to tap other two tiles in your hand to form CHOW, then discard a tile.
11. Win
    - Play continues until someone wins and taps the "Bingo" button.
12. Rejoing and Exiting
    - This Mahjong game has a screen sleep prevention feature. While playing, your phone or tablet will not automatically go to sleep.
    - After finishing a game, please tap the “Quit” button to restore your device’s automatic sleep function.
    - During a game, any swipe on the control panel or launching another application will automatically exit the Mahjong game.
    - However, if you rejoin, you can continue playing from where you left off. (you can switch player with this function)
    - If the player who runs the server (SVR:ON) exited you have to restart the game.
---

## 📱 Notes

- Make sure all devices are connected to the same Wi-Fi or have correct port forwarding set up for Internet play.
- Observe robot players to learn the flow and strategy of International Mahjong.
- Here is a demo video for Solo play: https://www.youtube.com/watch?v=LcIrHsz8K60
- Here is a demo video for Auto play: https://www.youtube.com/watch?v=kQHz0FtzTI0
- Here is a video for configure NETGEAR router: https://www.youtube.com/watch?v=wAI7vHZDkLw

Enjoy playing and learning Mahjong!

---
---
---

# 麻将

这是一个基于 **国际麻将规则** 的电字麻将。

## 🎴 功能特色

- ✅ **国际麻将规则** — 按照标准的国际麻将规则进行游戏。
- ✅ **灵活的多人模式** — 支持 1、2、3 或 4 人对战。
- ✅ **本地 Wi-Fi 对战** — 可在同一局域网中进行对战：如个人热点、咖啡店 Wi-Fi、机场 Wi-Fi 等。
- ✅ **互联网对战** — 通过在家庭路由器上配置端口转发，可进行远程联网对战。
- ✅ **适合初学者** — 可开启智能玩家通过观看和学习国际麻将的打法。
- ✅ **支持多语言** — 根据设备或 Apple 设备上的 App 语言设置自动切换为英文或中文。

---

## 🕹️ 如何开始游戏

1. **开启服务器**
   - 4 个玩家中，必须有 1 个玩家点击 “伺服” 按钮来开启服务器（即使是单人也需要开启伺服器）。
   - 然后点击 “加入” 按钮加入游戏。

2. **获取 IP 和端口**
   - 服务器开启后，信息区会显示IP地址和端口号，例如 `192.168.1.8:53842`。

3. **其他玩家加入**
   - 其余(最多三个)玩家在信息区输入第一个玩家的IP和端口，然后点击“加入”按钮加入牌桌。

4. **单人模式**
   - 如果是单人模式，需要点击其他三个标记为“空”的座位标签，点击后标记会变为“占”（已占用）。

5. **座位分配**
   - 所有座位都被占用后，系统会将四个风位分配给每个玩家：东、南、西、北。

6. **开始对局**
   - 第一个点击“洗牌”按钮的人将成为庄家。
   - 庄家掷骰，点击俩个“骰子”当中的一个。
   - 庄家发牌，点击牌墙上标有“牌头”的那张牌。

7. **补花**
   - 如果有花牌，先点击花牌然后点击“牌尾”按钮补牌。
   - 如果没有花牌，下家自动获得出牌权。

8. **首轮出牌**
   - 庄家点击手中的一张牌打出第一张牌。
   - 下一家点击“牌头”按钮摸牌，然后打出一张牌。

9. **碰**
   - 如果你有可“碰”或“杠”之牌，信息区会变为浅紫色而且中心牌会闪动，你可以点击中心牌阻止其他玩家摸牌。
   - 此时你也透露了自己有二张或三张相同的牌。如果不需要碰/杠，可以什么都不做以免泄露牌的信息。
   - 弹出窗口会让你确认是否要碰/杠。
   - 如果选择“否”，则放弃机会，其他玩家继续。
   - 如果选择“是”，并且你有三张与别人打出的牌相同，你需要再选择一次是“碰”还是“杠”。
   - 点击“是”后，中心（别人打出的）牌会移到你的“吃/碰/杠”显示区域。
   - 然后你需要点击手中相同的牌组成碰或杠。
   - 如果组成了杠，还需点击“牌尾”按钮补牌。
   - 最后从手中打出一张牌。
   - ⚠️如果目前的玩家在你点击中心牌之前完成出牌，你将失去这次碰牌的机会。

10. **吃**
    - 要“吃”牌，可以点击左手玩家打出的中心牌。
    - 中心牌会移动到你的“吃/碰/杠”显示区域。
    - 然后点击手中另外两张可组成顺子的牌完成吃，再打出一张牌。

11. **胡牌**
    - 玩家们将继续轮流出牌，直到有玩家胡牌并点击“胡牌”按钮。

12. **重新加入和退出**
    - 此麻将游戏设有防止自动熄屏功能，在打牌当中您的手机或平板电脑不会自动熄屏。
    - 打牌结束后请点击“退出”按钮，您的手机或电脑将恢复自动熄屏。
    - 在打牌当中任何控制板面的滑动或其它程序的启动都会自动退出麻将游戏。
    - 但当您重新加入后您可从上次中断的地方继续打牌。（您可借用此功能更换玩家）
    - 如果开启伺服器的玩家退出了麻将游戏，则必须重新开始游戏。

---

## 📱 注意事项

- 请确保所有设备连接到同一 Wi-Fi，或正确设置好互联网端口转发。
- 可以观察机器人玩家来学习国际麻将的流程和策略。
- 这里有一个演示小视频：https://www.youtube.com/watch?v=SoXLYQctq8A
- 这里是一个如何设置NETGEAR路由器的视频：https://www.youtube.com/watch?v=wAI7vHZDkLw

祝你玩得开心，胡得漂亮！🀄
